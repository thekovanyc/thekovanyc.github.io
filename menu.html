<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The KOVA</title>
    <link rel="stylesheet" href="style/style.css" />
    <link rel="stylesheet" href="style/menu.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div class="navigation">
      <ul>
        <li>
          <a href="/"><img src="logo.png" alt="Kova Logo" /></a>
        </li>
        <div class="align-right">
          <li><a href="/menu.html">Menu</a></li>
          <li><a href="/location.html">Location & Hours</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </div>
      </ul>
    </div>

    <div class="title">
      Menu
      <hr />
    </div>

    <div class="menu-div" id="egg-dishes">
      <img src="photos/eggs.JPG" alt="Eggs" />
      <h4>Egg Dishes</h4>
    </div>

    <div class="menu-div" id="sweet-and-savory">
      <img src="photos/pancake.JPG" alt="Pancakes" />
      <h4>Sweet and Savory</h4>
    </div>

    <div class="menu-div" id="savory-food">
      <img src="photos/bec.JPG" alt="Bacon Egg and Cheese" />
      <h4>Burger, Sandwiches, and Roti</h4>
    </div>

    <div class="menu-div" id="drinks">
      <img src="photos/latte.JPG" alt="Latte" />
      <h4>Drinks</h4>
    </div>

    <script src="menu.js"></script>
    <script>
      function parseExtras(extras, dom) {
        if (!extras) return "";
        extras.forEach((extra) => {
          dom.innerHTML += `<div class="extras">- ${extra.name} +$${extra.price} </div>`;
        });
      }

      function parseDesc(desc, dom) {
        if (!desc) return "";
        dom.innerHTML += `<div class="desc"> ${desc} </div>`;
      }

      function parseFlavors(flavors, dom) {
        if (!flavors) return "";
        flavors[0].split(", ").forEach((flavor) => {
          dom.innerHTML += `<div class="flavors"> ${flavor} </div>`;
        });
      }

      function parseMenuItems(items, dom) {
        items.forEach((item) => {
          var price = item.price ? `$${item.price}` : "";
          dom.innerHTML += `<div class="food">${item.name} ${price}</div> `;

          parseDesc(item.desc, dom);
          parseExtras(item.extras, dom);
          parseFlavors(item.flavors, dom);
        });
      }

      var brunchFoodDom = document.getElementById("egg-dishes");
      parseMenuItems(data.egg_dishes, brunchFoodDom);
      brunchFoodDom.innerHTML +=
        '<br/><div class="desc">*All egg dishes served with home fries except for The KOVA Breakfast*</div><p/>';

      var sweetAndSavoryDom = document.getElementById("sweet-and-savory");
      parseMenuItems(data.sweet_and_savory, sweetAndSavoryDom);

      var savoryFoodDom = document.getElementById("savory-food");
      parseMenuItems(data.savory, savoryFoodDom);

      var drinksDom = document.getElementById("drinks");
      parseMenuItems(data.drinks, drinksDom);
    </script>
  </body>
</html>
